{% extends 'base.html' %}

{% block title %}DESKDUNK - Zahlung{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='styles/payment.css') }}">

<body>
    <div class="payment-container">
        <a href="{{ url_for('warenkorb') }}" class="back-button">
            <span class="back-arrow">‚Üê</span> Back
        </a>

        <!-- Bestellzusammenfassung -->
        <div class="order-summary">
            <h2>Order Summary</h2>
            <div class="summary-details">
                <div class="summary-item">
                    <span>Product:</span>
                    <span id="summaryProduct">Desk Dunk</span>
                </div>
                <div class="summary-item">
                    <span>Items:</span>
                    <span id="summaryQuantity">1</span>
                </div>
                <div class="summary-item total">
                    <span>Total:</span>
                    <span id="summaryTotal">CHF 30,00</span>
                </div>
            </div>
        </div>

        <div class="payment-methods">
            <!-- PayPal -->
            <div class="payment-option">
                <div class="payment-logo">
                    <img src="https://download.logo.wine/logo/PayPal/PayPal-Logo.wine.png" alt="PayPal Logo"
                        class="logo-image">
                </div>
                <h3>PayPal</h3>
                <p>Fast and secure payment with PayPal</p>
                <button class="payment-btn" data-method="paypal">Pay with PayPal</button>
            </div>

            <!-- Kreditkarte -->
            <div class="payment-option">
                <div class="payment-logo">
                    <img src="https://www.visa.de/content/dam/VCOM/regional/ve/germany/in-page-images/Produkte/card-classic.png"
                        alt="Kreditkarte Logo" class="logo-image">
                </div>
                <h3>Credit Card</h3>
                <p>Visa, Mastercard or other cards</p>
                <button class="payment-btn" data-method="card">Pay with Card</button>
            </div>

            <!-- Apple Pay -->
            <div class="payment-option">
                <div class="payment-logo">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTWxYUQvdwKXZ9meVu4Jx6fr7nNNo99TLl-bA&s"
                        alt="Apple Pay" class="logo-image">
                </div>
                <h3>Apple Pay</h3>
                <p>Payment with Apple Pay</p>
                <button class="payment-btn" data-method="applepay">Pay with Apple Pay</button>
            </div>

            <!-- Google Pay -->
            <div class="payment-option">
                <div class="payment-logo">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Google_Pay_Logo.svg/960px-Google_Pay_Logo.svg.png"
                        alt="Google Pay Logo" class="logo-image">
                </div>
                <h3>Google Pay</h3>
                <p>Fast payment with Google Pay</p>
                <button class="payment-btn" data-method="googlepay">Pay with Google Pay</button>
            </div>

            <!-- Twint -->
            <div class="payment-option">
                <div class="payment-logo">
                    <img src="https://play-lh.googleusercontent.com/pGZsOWcRRSQLNncRTfhGQKP_Oql9-ZmtdygrFd8myq7wONKa-INO-gFSy1xp5BL2yA"
                        alt="Twint Logo" class="logo-image">
                </div>
                <h3>Twint</h3>
                <p>Twint payment</p>
                <button class="payment-btn" data-method="twint">Pay with Twint</button>
            </div>

            <!-- Lastschrift -->
            <div class="payment-option">
                <div class="payment-logo">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTtiR10jbwxu0jyjy-x-cGgR8p_qWgy0D6GqQ&ss"
                        alt="Lastschrift Logo" class="logo-image">
                </div>
                <h3>Invoice</h3>
                <p>Payment by invoice</p>
                <button class="payment-btn" data-method="invoice">Select Invoice</button>
            </div>
        </div>

        <!-- Payment Form (initially hidden) -->
        <div id="paymentFormSection" class="payment-form-section" style="display: none; margin-top: 40px;">
            <h2 id="formTitle">Payment Details</h2>
            <form action="{{ url_for('add_order') }}" class="payment-form" id="selectedPaymentForm" method="POST">
                <!-- Credit Card Details -->
                <div class="form-section" id="cardSection" style="display: none;">
                    <h3>Credit Card Information</h3>
                    <div class="form-group">
                        <label for="cardName">Name on Card <span class="required">*</span></label>
                        <input type="text" id="cardName" name="cardName" placeholder="Max Mustermann">
                        <span class="error-message" id="cardNameError"></span>
                    </div>
                    <div class="form-group">
                        <label for="cardNumber">Card Number <span class="required">*</span></label>
                        <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456"
                            maxlength="19">
                        <span class="error-message" id="cardNumberError"></span>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="expiry">Expiration Date <span class="required">*</span></label>
                            <input type="text" id="expiry" name="expiry" placeholder="MM/YY" maxlength="5">
                            <span class="error-message" id="expiryError"></span>
                        </div>
                        <div class="form-group">
                            <label for="cvv">CVV <span class="required">*</span></label>
                            <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="3">
                            <span class="error-message" id="cvvError"></span>
                        </div>
                    </div>
                </div>

                <!-- Twint Details -->
                <div class="form-section" id="twintSection" style="display: none;">
                    <h3>Twint Information</h3>
                    <div class="form-group">
                        <label for="twintPhone">Phone Number <span class="required">*</span></label>
                        <input type="tel" id="twintPhone" name="twintPhone" placeholder="+41 79 123 45 67">
                        <span class="error-message" id="twintPhoneError"></span>
                    </div>
                </div>

                <!-- Billing Address -->
                <div class="form-section">
                    <h3>Billing Address</h3>
                    <div class="form-group">
                        <label for="fullName">Full Name <span class="required">*</span></label>
                        <input type="text" id="fullName" name="fullName" placeholder="Max Mustermann" required>
                        <span class="error-message" id="fullNameError"></span>
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address <span class="required">*</span></label>
                        <input type="email" id="email" name="email" placeholder="max@example.com" required>
                        <span class="error-message" id="emailError"></span>
                    </div>
                    <div class="form-group">
                        <label for="address">Street and House Number <span class="required">*</span></label>
                        <input type="text" id="address" name="address" placeholder="Sample Street 123" required>
                        <span class="error-message" id="addressError"></span>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="zip">ZIP Code <span class="required">*</span></label>
                            <input type="text" id="zip" name="zip" placeholder="8000" required>
                            <span class="error-message" id="zipError"></span>
                        </div>
                        <div class="form-group">
                            <label for="city">City <span class="required">*</span></label>
                            <input type="text" id="city" name="city" placeholder="Zurich" required>
                            <span class="error-message" id="cityError"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="country">Country <span class="required">*</span></label>
                        <select id="country" name="country" required>
                            <option value="">Select Country</option>
                            <option value="CH" selected>Switzerland</option>
                            <option value="DE">Germany</option>
                            <option value="AT">Austria</option>
                            <option value="FR">France</option>
                            <option value="IT">Italy</option>
                            <option value="US">United States</option>
                            <option value="GB">United Kingdom</option>
                            <option value="CA">Canada</option>
                            <option value="AU">Australia</option>
                            <option value="NL">Netherlands</option>
                            <option value="BE">Belgium</option>
                            <option value="ES">Spain</option>
                            <option value="SE">Sweden</option>
                            <option value="NO">Norway</option>
                            <option value="DK">Denmark</option>
                            <option value="FI">Finland</option>
                            <option value="JP">Japan</option>
                            <option value="CN">China</option>
                            <option value="IN">India</option>
                            <option value="BR">Brazil</option>
                            <option value="MX">Mexico</option>
                            <option value="RU">Russia</option>
                            <option value="ZA">South Africa</option>
                            <option value="KR">South Korea</option>
                            <option value="SG">Singapore</option>
                            <option value="HK">Hong Kong</option>
                            <option value="TW">Taiwan</option>
                            <option value="AE">United Arab Emirates</option>

                        </select>
                        <span class="error-message" id="countryError"></span>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="button" onclick="openPurchaseModal()">PAY HERE</button>

                <!-- Bestellbestaetigung Modal -->
                <div id="purchaseModal" class="purchase-modal" aria-hidden="true">
                    <div class="purchase-modal__content" role="dialog" aria-modal="true"
                        aria-labelledby="purchaseModalTitle">
                        <h3 id="purchaseModalTitle">Confirm purchase</h3>
                        <p>Do you really want to place this order?</p>
                        <div class="purchase-modal__actions">
                            <button type="button" class="purchase-modal__btn purchase-modal__btn--cancel"
                                id="purchaseCancelBtn">Cancel</button>
                            <button class="purchase-modal__btn purchase-modal__btn--confirm" id="purchaseConfirmBtn"
                                type="submit" name="action" value="add_order/{{ total }}">Confirm and pay now</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>


</body>

<script src="{{ url_for('static', filename='payment.js') }}"></script>

{% endblock %}